<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" async>
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.3.0/firebase-app.js";
      import {
        getFirestore,
        collection,
        addDoc,
        doc,
      } from "https://www.gstatic.com/firebasejs/9.3.0/firebase-firestore.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDM1PZDoSB6sgCd12bEtiKnEdsPLGSm87c",
        authDomain: "myapp-auth-email-pass.firebaseapp.com",
        projectId: "myapp-auth-email-pass",
        storageBucket: "myapp-auth-email-pass.appspot.com",
        messagingSenderId: "450082051837",
        appId: "1:450082051837:web:e870cc409678322e89d094",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore();

      document.getElementById("addDataBtn").addEventListener("click", addData);

      function addData() {
        const nameData = document.getElementById("name").value;
        const ageData = document.getElementById("age").value;

        console.log(nameData, ageData);
        try {
          const docRef = addDoc(collection(db, "users"), {
            name: nameData,
            age: ageData,
          });

          // doc(collection(db, "users"), "doc").set({
          //   name: "Simi",
          //   age: 34
          // })

          alert("Document Added!!");
        } catch (e) {
          console.log(e);
        }
      }

      function readData() {
        // doc(collection(db, "users"))
        // const docRef = doc(db, "Users", "collection");
        const colRef = collection(db, "users")
        const docRef = doc(colRef, "user2");
        console.log(docRef)
      }

      readData();
    </script>
    <title>Firestore Database</title>
  </head>

  <body>
    <h1>Firestore</h1>

    <input type="text" placeholder="Name" style="display: block" id="name" />
    <input type="text" placeholder="Age" id="age" />
    <button id="addDataBtn">Add data</button>
  </body>
</html>
